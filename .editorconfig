root = true

# All files
[*]
charset = utf-8
insert_final_newline = true
trim_trailing_whitespace = true
indent_style = space

# C# files
[*.cs]
indent_size = 4
max_line_length = 120

# Enable .NET analyzers
dotnet_diagnostic.severity = warning

##########################
# CODE QUALITY RULES
##########################

# Code Analysis - Enable all rules by default
dotnet_code_quality_unused_parameters = all:warning

# IDE Code Quality Rules - Find Unused Code
dotnet_diagnostic.IDE0001.severity = warning  # Simplify name
dotnet_diagnostic.IDE0002.severity = warning  # Simplify member access
dotnet_diagnostic.IDE0003.severity = warning  # Remove this or Me qualification
dotnet_diagnostic.IDE0004.severity = warning  # Remove unnecessary cast
dotnet_diagnostic.IDE0005.severity = warning  # Remove unnecessary imports
dotnet_diagnostic.IDE0035.severity = warning  # Remove unreachable code
dotnet_diagnostic.IDE0051.severity = warning  # Remove unused private member
dotnet_diagnostic.IDE0052.severity = warning  # Remove unread private member
dotnet_diagnostic.IDE0058.severity = none     # Expression value is never used
dotnet_diagnostic.IDE0059.severity = warning  # Unnecessary assignment
dotnet_diagnostic.IDE0060.severity = warning  # Remove unused parameter
dotnet_diagnostic.IDE0080.severity = warning  # Remove unnecessary suppression
dotnet_diagnostic.IDE0100.severity = warning  # Remove unnecessary equality
dotnet_diagnostic.IDE0110.severity = warning  # Remove unnecessary discard

# CA Rules - Code Analysis for Performance & Quality
dotnet_diagnostic.CA1822.severity = suggestion  # Mark members as static
dotnet_diagnostic.CA1825.severity = warning  # Avoid zero-length array allocations
dotnet_diagnostic.CA1826.severity = warning  # Use property instead of Linq Enumerable method
dotnet_diagnostic.CA1827.severity = warning  # Do not use Count() when Any() can be used
dotnet_diagnostic.CA1829.severity = warning  # Use Length/Count property instead of Enumerable.Count
dotnet_diagnostic.CA1834.severity = warning  # Use StringBuilder.Append(char) for single character
dotnet_diagnostic.CA1835.severity = warning  # Prefer memory-based overloads of ReadAsync/WriteAsync
dotnet_diagnostic.CA1836.severity = warning  # Prefer IsEmpty over Count when available
dotnet_diagnostic.CA1841.severity = warning  # Prefer Dictionary Contains methods
dotnet_diagnostic.CA1845.severity = warning  # Use span-based string.Concat
dotnet_diagnostic.CA1846.severity = warning  # Prefer AsSpan over Substring
dotnet_diagnostic.CA1847.severity = warning  # Use string.Contains(char) instead of Contains(string)
dotnet_diagnostic.CA1849.severity = warning  # Call async methods when in an async method
dotnet_diagnostic.CA2007.severity = none     # ConfigureAwait not needed in ASP.NET Core
dotnet_diagnostic.CA2016.severity = warning  # Forward the CancellationToken parameter

# Roslynator configuration
roslynator_accessibility_modifiers = explicit
roslynator_use_var = when_type_is_obvious
roslynator_array_creation_type_style = implicit_when_type_is_obvious
roslynator_object_creation_type_style = implicit_when_type_is_obvious
roslynator_block_braces_style = multi_line
roslynator_configure_await = true
roslynator_null_check_style = pattern_matching
roslynator_prefix_field_identifier_with_underscore = true
roslynator_max_line_length = 120
roslynator_new_line_at_end_of_file = true
roslynator_use_collection_expression = true

# Roslynator Specific Rules - Find Redundant Code
dotnet_diagnostic.RCS1018.severity = warning  # Add accessibility modifiers
dotnet_diagnostic.RCS1036.severity = warning  # Remove unnecessary blank line
dotnet_diagnostic.RCS1074.severity = warning  # Remove redundant constructor
dotnet_diagnostic.RCS1080.severity = warning  # Use 'Count/Length' instead of 'Any'
dotnet_diagnostic.RCS1085.severity = warning  # Use auto-implemented property
dotnet_diagnostic.RCS1097.severity = warning  # Remove redundant 'ToString' call
dotnet_diagnostic.RCS1118.severity = warning  # Mark local variable as const
dotnet_diagnostic.RCS1124.severity = warning  # Inline local variable
dotnet_diagnostic.RCS1128.severity = warning  # Use coalesce expression
dotnet_diagnostic.RCS1129.severity = warning  # Remove redundant field initialization
dotnet_diagnostic.RCS1146.severity = warning  # Use conditional access
dotnet_diagnostic.RCS1163.severity = warning  # Unused parameter
dotnet_diagnostic.RCS1164.severity = warning  # Unused type parameter
dotnet_diagnostic.RCS1169.severity = warning  # Make field read-only
dotnet_diagnostic.RCS1170.severity = warning  # Use read-only auto-implemented property
dotnet_diagnostic.RCS1174.severity = warning  # Remove redundant async/await
dotnet_diagnostic.RCS1175.severity = warning  # Unused 'this' parameter
dotnet_diagnostic.RCS1188.severity = warning  # Remove redundant auto-property initialization
dotnet_diagnostic.RCS1192.severity = warning  # Unnecessary usage of verbatim string literal
dotnet_diagnostic.RCS1211.severity = warning  # Remove unnecessary 'else'
dotnet_diagnostic.RCS1212.severity = warning  # Remove redundant assignment
dotnet_diagnostic.RCS1213.severity = warning  # Remove unused member declaration
dotnet_diagnostic.RCS1214.severity = warning  # Unnecessary interpolated string
dotnet_diagnostic.RCS1218.severity = warning  # Simplify code branching
dotnet_diagnostic.RCS1220.severity = warning  # Use pattern matching instead of 'is' + cast

# StyleCop configuration - Reduce noise
dotnet_diagnostic.SA1101.severity = none  # Prefix local calls with this
dotnet_diagnostic.SA1309.severity = none  # Field names should not begin with underscore
dotnet_diagnostic.SA1633.severity = none  # File should have header
dotnet_diagnostic.SA1200.severity = none  # Using directives placement
dotnet_diagnostic.SA1602.severity = none  # Enumeration items should be documented
dotnet_diagnostic.SA1600.severity = suggestion  # XML docs optional for internal members
dotnet_diagnostic.SA1629.severity = none  # Documentation text end with period
dotnet_diagnostic.SA1111.severity = suggestion  # Closing parenthesis placement
dotnet_diagnostic.SA1009.severity = suggestion  # Closing parenthesis spacing
dotnet_diagnostic.SA1503.severity = suggestion  # Braces for single-line statements
dotnet_diagnostic.SA1501.severity = suggestion  # Statement on single line
dotnet_diagnostic.SA1122.severity = suggestion  # Use string.Empty
dotnet_diagnostic.SA1402.severity = none  # One type per file (allow nested classes)
dotnet_diagnostic.SA1611.severity = suggestion  # Parameter documentation
dotnet_diagnostic.SA1615.severity = suggestion  # Return value documentation

# Meziantou.Analyzer configuration - Enhanced
dotnet_diagnostic.MA0004.severity = none  # ConfigureAwait not needed in ASP.NET Core
dotnet_diagnostic.MA0006.severity = warning  # Use string.Equals instead of equality operator
dotnet_diagnostic.MA0015.severity = warning  # Specify parameter name in ArgumentException
dotnet_diagnostic.MA0016.severity = suggestion  # Prefer collection abstraction
dotnet_diagnostic.MA0018.severity = warning  # Do not declare static members on generic types
dotnet_diagnostic.MA0025.severity = warning  # Implement functionality instead of NotImplementedException
dotnet_diagnostic.MA0026.severity = warning  # Fix TODO comments
dotnet_diagnostic.MA0028.severity = warning  # Optimize StringBuilder usage
dotnet_diagnostic.MA0038.severity = warning  # Make method static
dotnet_diagnostic.MA0040.severity = warning  # Flow the cancellation token
dotnet_diagnostic.MA0041.severity = warning  # Make property static
dotnet_diagnostic.MA0042.severity = warning  # Do not use blocking calls in async method
dotnet_diagnostic.MA0043.severity = warning  # Use nameof operator
dotnet_diagnostic.MA0045.severity = warning  # Do not use blocking call (use async method)
dotnet_diagnostic.MA0048.severity = none  # File name must match type name
dotnet_diagnostic.MA0051.severity = suggestion  # Method is too long
dotnet_diagnostic.MA0053.severity = warning  # Make class sealed
dotnet_diagnostic.MA0056.severity = warning  # Do not call overridable members in constructor
dotnet_diagnostic.MA0076.severity = warning  # Do not use implicit culture-sensitive ToString

# Set severity for all Roslynator analyzers
dotnet_analyzer_diagnostic.category-roslynator.severity = suggestion

# C# code style rules - Enhanced
csharp_using_directive_placement = outside_namespace:warning
csharp_prefer_braces = true:warning
csharp_prefer_simple_using_statement = true:suggestion
csharp_style_namespace_declarations = file_scoped:warning
csharp_style_prefer_method_group_conversion = true:suggestion
csharp_style_prefer_top_level_statements = true:suggestion
csharp_style_expression_bodied_methods = false:none
csharp_style_expression_bodied_constructors = false:none
csharp_style_expression_bodied_operators = false:none
csharp_style_expression_bodied_properties = true:suggestion
csharp_style_expression_bodied_indexers = true:suggestion
csharp_style_expression_bodied_accessors = true:suggestion
csharp_style_var_for_built_in_types = false:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:suggestion
csharp_prefer_static_local_function = true:warning
csharp_style_prefer_readonly_struct = true:warning
csharp_style_unused_value_expression_statement_preference = discard_variable:none
csharp_style_unused_value_assignment_preference = discard_variable:suggestion

# Formatting rules - Indentation
csharp_indent_case_contents = true
csharp_indent_switch_labels = true
csharp_indent_labels = no_change
csharp_indent_block_contents = true
csharp_indent_braces = false

# Formatting rules - Spacing
csharp_space_after_cast = false
csharp_space_after_keywords_in_control_flow_statements = true
csharp_space_between_parentheses = false
csharp_space_before_colon_in_inheritance_clause = true
csharp_space_after_colon_in_inheritance_clause = true
csharp_space_around_binary_operators = before_and_after
csharp_space_after_comma = true
csharp_space_after_dot = false

# Formatting rules - Wrapping
csharp_preserve_single_line_statements = false
csharp_preserve_single_line_blocks = true

# Formatting rules - New lines
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true

# Disable IDE0055 (conflicts with formatters)
dotnet_diagnostic.IDE0055.severity = none

# XML project files
[*.{csproj,props,targets}]
indent_size = 2

# JSON files
[*.json]
indent_size = 2

# YAML files
[*.{yml,yaml}]
indent_size = 2

# Markdown files
[*.md]
max_line_length = off
trim_trailing_whitespace = false
