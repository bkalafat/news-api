<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure DevOps Deployment Checklist - News API</title>
    <style>
        body {
       font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
          margin: 0 auto;
            padding: 20px;
        background: #f5f5f5;
        }
        .header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
   color: white;
            padding: 30px;
            border-radius: 10px;
    margin-bottom: 30px;
}
        .section {
            background: white;
      padding: 25px;
       margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .step {
            margin-bottom: 30px;
            padding: 20px;
        background: #f9f9f9;
   border-left: 4px solid #667eea;
      border-radius: 5px;
   }
        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
   border-radius: 50%;
            display: inline-flex;
       align-items: center;
    justify-content: center;
            font-weight: bold;
            font-size: 20px;
     margin-right: 15px;
     }
        .step-title {
  font-size: 20px;
  font-weight: bold;
     margin-bottom: 15px;
    display: flex;
            align-items: center;
        }
        .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
          padding: 15px;
     border-radius: 5px;
          overflow-x: auto;
            margin: 10px 0;
        font-family: 'Courier New', monospace;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
      padding: 15px;
            margin: 15px 0;
       border-radius: 5px;
        }
        .success {
        background: #d4edda;
  border-left: 4px solid #28a745;
            padding: 15px;
   margin: 15px 0;
     border-radius: 5px;
        }
        .info {
            background: #d1ecf1;
    border-left: 4px solid #17a2b8;
      padding: 15px;
     margin: 15px 0;
            border-radius: 5px;
        }
 .checkbox {
    margin: 10px 0;
       font-size: 16px;
        }
   input[type="checkbox"] {
 width: 20px;
            height: 20px;
 margin-right: 10px;
            cursor: pointer;
        }
  .variable-table {
            width: 100%;
  border-collapse: collapse;
    margin: 15px 0;
  }
        .variable-table th,
  .variable-table td {
        border: 1px solid #ddd;
        padding: 12px;
     text-align: left;
  }
        .variable-table th {
            background: #667eea;
            color: white;
        }
        .variable-table tr:nth-child(even) {
       background: #f9f9f9;
        }
        .secret-badge {
        background: #dc3545;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
font-size: 12px;
        }
        .btn {
    display: inline-block;
            padding: 12px 24px;
            background: #667eea;
     color: white;
  text-decoration: none;
            border-radius: 5px;
    margin: 10px 5px;
            font-weight: bold;
        }
        .btn:hover {
     background: #5568d3;
     }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸš€ Azure DevOps Deployment Checklist</h1>
        <p>News API - Backend API Deployment Guide</p>
    </div>

    <div class="section">
        <h2>ğŸ“‹ Ã–n HazÄ±rlÄ±k</h2>
  <div class="checkbox">
         <input type="checkbox" id="check-azure"> <label for="check-azure">Azure hesabÄ±m hazÄ±r</label>
        </div>
        <div class="checkbox">
            <input type="checkbox" id="check-azuredevops"> <label for="check-azuredevops">Azure DevOps hesabÄ±m hazÄ±r (Ã¼cretsiz)</label>
    </div>
        <div class="checkbox">
        <input type="checkbox" id="check-mongodb"> <label for="check-mongodb">MongoDB sunucum hazÄ±r ve connection string elimde</label>
        </div>
        <div class="checkbox">
  <input type="checkbox" id="check-minio"> <label for="check-minio">MinIO sunucum hazÄ±r ve credentials elimde</label>
   </div>
    </div>

    <div class="section">
        <div class="step">
            <div class="step-title">
   <span class="step-number">1</span>
                Azure Container Registry OluÅŸtur
        </div>
  
            <p>PowerShell'de Ã§alÄ±ÅŸtÄ±rÄ±n:</p>

         <div class="code-block">
# Azure'a login<br>
az login<br>
<br>
# Resource Group oluÅŸtur<br>
az group create --name newsapi-infrastructure-rg --location eastus<br>
<br>
# ACR adÄ± oluÅŸtur (benzersiz olmalÄ±)<br>
$AcrName = "newsapi" + (Get-Random -Minimum 1000 -Maximum 9999) + "acr"<br>
Write-Host "âœ… ACR Name: $AcrName" -ForegroundColor Green<br>
<br>
# ACR oluÅŸtur<br>
az acr create `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--resource-group newsapi-infrastructure-rg `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--name $AcrName `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--sku Basic `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--admin-enabled true<br>
<br>
# ACR bilgilerini gÃ¶ster<br>
Write-Host "============================================" -ForegroundColor Cyan<br>
Write-Host "ACR Name: $AcrName" -ForegroundColor Yellow<br>
Write-Host "ACR Server: $AcrName.azurecr.io" -ForegroundColor Yellow<br>
Write-Host "============================================" -ForegroundColor Cyan<br>
<br>
# BU ADIYI KAYDET! azure-pipelines.yml dosyasÄ±nda kullanacaksÄ±nÄ±z
          </div>

            <div class="warning">
         <strong>âš ï¸ Ã–NEMLÄ°:</strong> ACR adÄ±nÄ± (Ã¶rn: newsapi1234acr) bir yere kaydedin!
     </div>

            <div class="checkbox">
             <input type="checkbox" id="step1"> <label for="step1">ACR oluÅŸturuldu ve adÄ± kaydedildi</label>
    </div>
        </div>

        <div class="step">
          <div class="step-title">
 <span class="step-number">2</span>
       Service Principal OluÅŸtur
     </div>

    <div class="code-block">
# Service Principal oluÅŸtur<br>
$SubscriptionId = az account show --query id -o tsv<br>
$SpName = "newsapi-devops-sp-" + (Get-Random -Minimum 1000 -Maximum 9999)<br>
<br>
az ad sp create-for-rbac `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--name $SpName `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--role contributor `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--scopes "/subscriptions/$SubscriptionId" `<br>
&nbsp;&nbsp;&nbsp;&nbsp;--sdk-auth
            </div>

     <div class="warning">
       <strong>âš ï¸ Ã‡IKAN JSON'U KAYDET!</strong> Azure DevOps Service Connection iÃ§in gerekli. Ã–rnek:
          <div class="code-block">
{<br>
&nbsp;&nbsp;"clientId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",<br>
&nbsp;&nbsp;"clientSecret": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",<br>
&nbsp;&nbsp;"subscriptionId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",<br>
&nbsp;&nbsp;"tenantId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"<br>
}
       </div>
            </div>

     <div class="checkbox">
     <input type="checkbox" id="step2"> <label for="step2">Service Principal oluÅŸturuldu ve JSON kaydedildi</label>
 </div>
 </div>

        <div class="step">
      <div class="step-title">
          <span class="step-number">3</span>
azure-pipelines.yml DosyasÄ±nÄ± GÃ¼ncelle
       </div>

            <p>azure-pipelines.yml dosyasÄ±nÄ± aÃ§Ä±n ve ACR adÄ±nÄ± gÃ¼ncelleyin:</p>

      <div class="code-block">
variables:<br>
&nbsp;&nbsp;acrName: 'BURAYA_ACR_ADINIZI_YAZIN'  # Ã–rnek: newsapi1234acr
    </div>

   <div class="checkbox">
         <input type="checkbox" id="step3"> <label for="step3">azure-pipelines.yml gÃ¼ncellendi</label>
   </div>
        </div>

        <div class="step">
            <div class="step-title">
 <span class="step-number">4</span>
                DeÄŸiÅŸiklikleri Commit Et
    </div>

  <div class="code-block">
git add azure-pipelines.yml<br>
git commit -m "Configure Azure DevOps with ACR"<br>
git push origin master
    </div>

            <div class="checkbox">
     <input type="checkbox" id="step4"> <label for="step4">DeÄŸiÅŸiklikler commit edildi</label>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>â˜ï¸ Azure DevOps Kurulumu</h2>

        <div class="step">
         <div class="step-title">
                <span class="step-number">5</span>
     Repo'yu Azure DevOps'a Aktar
 </div>

            <p><strong>SeÃ§enek A: Import (Ã–nerilen)</strong></p>
            <ol>
         <li>Azure DevOps projenizi aÃ§Ä±n: <code>https://dev.azure.com/{organization}/{project}</code></li>
<li>Sol menÃ¼den <strong>Repos</strong> â†’ <strong>Files</strong> tÄ±klayÄ±n</li>
       <li>Ãœstte <strong>Import repository</strong> tÄ±klayÄ±n</li>
 <li>Clone URL: <code>https://github.com/bkalafat/newsportal.git</code></li>
     <li><strong>Import</strong> tÄ±klayÄ±n</li>
            </ol>

            <div class="info">
     <strong>â„¹ï¸ Not:</strong> Import iÅŸlemi 1-2 dakika sÃ¼rebilir.
 </div>

        <div class="checkbox">
          <input type="checkbox" id="step5"> <label for="step5">Repo Azure DevOps'a aktarÄ±ldÄ±</label>
  </div>
        </div>

 <div class="step">
    <div class="step-title">
     <span class="step-number">6</span>
          Service Connection OluÅŸtur
        </div>

          <ol>
                <li><strong>Project Settings</strong> (sol alt) â†’ <strong>Service connections</strong></li>
       <li><strong>New service connection</strong> â†’ <strong>Azure Resource Manager</strong></li>
     <li><strong>Service principal (manual)</strong> seÃ§in</li>
           <li>AdÄ±m 2'de kaydettiÄŸiniz JSON bilgilerini girin:
        <ul>
   <li>Subscription ID â†’ <code>subscriptionId</code></li>
         <li>Service Principal ID â†’ <code>clientId</code></li>
             <li>Service principal key â†’ <code>clientSecret</code></li>
    <li>Tenant ID â†’ <code>tenantId</code></li>
</ul>
      </li>
 <li><strong>Service connection name:</strong> <code>Azure-ServiceConnection</code></li>
            <li>âœ… <strong>Grant access permission to all pipelines</strong> iÅŸaretleyin</li>
    <li><strong>Verify and save</strong></li>
        </ol>

       <div class="warning">
                <strong>âš ï¸ Ã–NEMLÄ°:</strong> Service connection adÄ± tam olarak <code>Azure-ServiceConnection</code> olmalÄ±!
     </div>

 <div class="checkbox">
     <input type="checkbox" id="step6"> <label for="step6">Service Connection oluÅŸturuldu</label>
         </div>
 </div>

        <div class="step">
            <div class="step-title">
                <span class="step-number">7</span>
    Variable Groups OluÅŸtur
            </div>

            <p><strong>Pipelines</strong> â†’ <strong>Library</strong> â†’ <strong>+ Variable group</strong></p>

            <h3>Group 1: newsapi-dev-secrets</h3>
          <table class="variable-table">
        <thead>
 <tr>
   <th>Variable Name</th>
   <th>Ã–rnek Value</th>
     <th>Secret</th>
        </tr>
      </thead>
     <tbody>
      <tr>
        <td>JWT_SECRET_KEY</td>
              <td>your-super-secret-key-min-32-chars</td>
 <td><span class="secret-badge">ğŸ”’ Yes</span></td>
                 </tr>
         <tr>
      <td>MONGO_CONNECTION_STRING</td>
            <td>mongodb://user:pass@host:27017/NewsDb?authSource=admin</td>
         <td><span class="secret-badge">ğŸ”’ Yes</span></td>
       </tr>
          <tr>
      <td>MONGO_DATABASE_NAME</td>
         <td>NewsDb</td>
   <td>No</td>
               </tr>
       <tr>
       <td>MINIO_ENDPOINT</td>
         <td>minio.yourdomain.com:9000</td>
         <td>No</td>
     </tr>
          <tr>
          <td>MINIO_ACCESS_KEY</td>
      <td>minioadmin</td>
             <td><span class="secret-badge">ğŸ”’ Yes</span></td>
     </tr>
           <tr>
      <td>MINIO_SECRET_KEY</td>
        <td>minioadmin123</td>
 <td><span class="secret-badge">ğŸ”’ Yes</span></td>
        </tr>
        <tr>
        <td>MINIO_BUCKET_NAME</td>
          <td>news-images</td>
      <td>No</td>
     </tr>
              </tbody>
     </table>

         <h3>Group 2: newsapi-prod-secrets</h3>
      <p>YukarÄ±daki tÃ¼m deÄŸiÅŸkenler + ek olarak:</p>
          <table class="variable-table">
             <thead>
  <tr>
      <th>Variable Name</th>
    <th>Ã–rnek Value</th>
   <th>Secret</th>
     </tr>
         </thead>
       <tbody>
       <tr>
         <td>JWT_ISSUER</td>
      <td>https://api.yourdomain.com</td>
         <td>No</td>
   </tr>
       <tr>
 <td>JWT_AUDIENCE</td>
            <td>https://yourdomain.com</td>
                 <td>No</td>
    </tr>
         </tbody>
    </table>

 <div class="info">
    <strong>â„¹ï¸ MongoDB Connection String Ã–rnekleri:</strong>
     <ul>
         <li>Local: <code>mongodb://admin:password@host.docker.internal:27017/NewsDb?authSource=admin</code></li>
    <li>Remote: <code>mongodb://user:pass@mongodb.example.com:27017/NewsDb?authSource=admin</code></li>
        <li>Atlas: <code>mongodb+srv://user:pass@cluster.mongodb.net/NewsDb?retryWrites=true</code></li>
     </ul>
  </div>

            <div class="checkbox">
                <input type="checkbox" id="step7a"> <label for="step7a">newsapi-dev-secrets oluÅŸturuldu</label>
  </div>
    <div class="checkbox">
                <input type="checkbox" id="step7b"> <label for="step7b">newsapi-prod-secrets oluÅŸturuldu</label>
            </div>
        </div>

      <div class="step">
            <div class="step-title">
           <span class="step-number">8</span>
    Environments OluÅŸtur
         </div>

            <p><strong>Pipelines</strong> â†’ <strong>Environments</strong> â†’ <strong>New environment</strong></p>

            <ol>
             <li>Name: <code>development</code>, Resource: <strong>None</strong></li>
   <li>Name: <code>production</code>, Resource: <strong>None</strong>
           <ul>
  <li>Production iÃ§in: âš™ï¸ â†’ <strong>Approvals and checks</strong> â†’ <strong>Approvals</strong> ekleyebilirsiniz</li>
   </ul>
  </li>
            </ol>

            <div class="checkbox">
      <input type="checkbox" id="step8"> <label for="step8">Environments oluÅŸturuldu</label>
       </div>
      </div>

        <div class="step">
          <div class="step-title">
                <span class="step-number">9</span>
   Pipeline OluÅŸtur ve Ã‡alÄ±ÅŸtÄ±r
            </div>

            <ol>
        <li><strong>Pipelines</strong> â†’ <strong>New pipeline</strong></li>
          <li><strong>Azure Repos Git</strong> seÃ§in</li>
   <li>Repository seÃ§in (newsapi veya newsportal)</li>
       <li><strong>Existing Azure Pipelines YAML file</strong></li>
            <li>Path: <code>/azure-pipelines.yml</code> seÃ§in</li>
          <li><strong>Continue</strong> â†’ <strong>Run</strong></li>
       </ol>

   <div class="success">
 <strong>âœ… Ä°lk build baÅŸladÄ±!</strong> Pipeline logs'u izleyin. Ä°lk deployment 8-12 dakika sÃ¼rebilir.
            </div>

      <div class="checkbox">
  <input type="checkbox" id="step9"> <label for="step9">Pipeline oluÅŸturuldu ve Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±</label>
            </div>
        </div>
    </div>

    <div class="section">
   <h2>ğŸš€ Deployment</h2>

 <div class="step">
            <div class="step-title">
    <span class="step-number">10</span>
      Development'a Deploy
         </div>

      <div class="code-block">
git checkout develop<br>
git push azuredevops develop
         </div>

       <p>Pipeline otomatik olarak:</p>
<ul>
     <li>âœ… Docker image build eder</li>
    <li>âœ… ACR'ye push eder</li>
     <li>âœ… Dev environment'a deploy eder</li>
     <li>âœ… Health check yapar</li>
          </ul>

        <div class="checkbox">
  <input type="checkbox" id="step10"> <label for="step10">Development'a deploy edildi</label>
            </div>
  </div>

        <div class="step">
         <div class="step-title">
         <span class="step-number">11</span>
  Production'a Deploy
      </div>

            <div class="code-block">
git checkout master<br>
git merge develop<br>
git push azuredevops master
   </div>

            <p>Pipeline otomatik olarak:</p>
            <ul>
      <li>âœ… Docker image build eder</li>
       <li>âœ… ACR'ye push eder</li>
         <li>â¸ï¸ Approval bekler (eÄŸer eklediyseniz)</li>
             <li>âœ… Production'a deploy eder</li>
         <li>âœ… Health check yapar</li>
    </ul>

  <div class="checkbox">
              <input type="checkbox" id="step11"> <label for="step11">Production'a deploy edildi</label>
        </div>
   </div>
    </div>

    <div class="section">
        <h2>âœ… Test</h2>

        <p>Pipeline baÅŸarÄ±yla tamamlandÄ±ktan sonra:</p>

        <div class="code-block">
# Application URL (pipeline output'tan alÄ±n)<br>
https://newsapi-dev-app.eastus.azurecontainerapps.io<br>
<br>
# Health check<br>
curl https://newsapi-dev-app.eastus.azurecontainerapps.io/health<br>
<br>
# Swagger UI<br>
https://newsapi-dev-app.eastus.azurecontainerapps.io/swagger
        </div>

     <a href="#" class="btn">ğŸ”— Swagger UI'Ä± AÃ§</a>
        <a href="#" class="btn">ğŸ“Š Azure Portal</a>
        <a href="#" class="btn">ğŸ” Pipeline Logs</a>
    </div>

    <div class="section">
        <h2>ğŸ‰ Tebrikler!</h2>
        <p>News API baÅŸarÄ±yla Azure'a deploy edildi! ğŸš€</p>
        
        <div class="success">
     <strong>Bundan sonra:</strong>
            <ul>
                <li>Her <code>develop</code> push'u â†’ Otomatik dev deployment</li>
<li>Her <code>master</code> push'u â†’ Otomatik production deployment</li>
      <li>Monitoring: Azure Portal â†’ Application Insights</li>
        <li>Logs: Azure Portal â†’ Container App â†’ Logs</li>
    </ul>
        </div>
    </div>

    <script>
        // Save checkbox states to localStorage
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
localStorage.setItem(this.id, this.checked);
        });
    
          // Load saved state
          if (localStorage.getItem(checkbox.id) === 'true') {
         checkbox.checked = true;
   }
        });
    </script>
</body>
</html>
